import React, { useState, useEffect } from 'react'

import reactLogo from './assets/react.svg'
import '@material/mwc-circular-progress';

import { AppAgentClient, AppAgentWebsocket } from '@holochain/client';
import './style.css'

function App() {
const [loading, setLoading] = useState(true);
const [client, setClient] = useState(undefined);

useEffect(() => {
async function initClient() {
// We pass '' as url because it will dynamically be replaced in launcher environments
setClient(await AppAgentWebsocket.connect('', '{{app_name}}'));
}
initClient();
}, []);

return loading
? <<mwc-circular-progress indeterminate></mwc-circular-progress>>
: <div className="App">
  <div>
    <a href="https://reactjs.org" target="_blank">
      <img src={reactLogo} className="logo react" alt="React logo" />
    </a>
  </div>
  <h1>Vite + React</h1>
  <div className="card">
    <button onClick={()=> setCount((count) => count + 1)}>
      count is {count}
    </button>
    <p>
      Edit <code>src/App.tsx</code> and save to test HMR
    </p>
  </div>
  <p className="read-the-docs">
    Click on the Holochain and React logos to learn more
  </p>
</div>
</div>
}

export default App



{{!-- <div id="content" style="display: flex; flex-direction: column; flex: 1;">
  <h2>EDIT ME! Add the components of your app here.</h2>

  <span>Look in the <code>ui/src/DNA/ZOME</code> folders for UI elements that are generated with
    <code>hc scaffold entry-type</code>, <code>hc scaffold collection</code> and <code>hc scaffold link-type</code> and
    add them here as appropriate.</span>

  <span>For example, if you have scaffolded a "todos" dna, a "todos" zome, a "todo_item" entry type, and a collection
    called "all_todos", you might want to add an element here to create and list your todo items, with the generated
    <code>ui/src/todos/todos/AllTodos.vue</code> and <code>ui/src/todos/todos/CreateTodo.vue</code> elements.</span>

  <span>So, to use those elements here:</span>
  <ol>
    <li>Import the elements with:
      <pre>
import AllTodos from './todos/todos/AllTodos.vue';
import CreateTodo from './todos/todos/CreateTodo.vue';
          </pre>
    </li>
    <li>Add it into the subcomponents for the `App` component:
      <pre>
export default defineComponent({
  components: {
    // Add your subcomponents here
    AllTodos,
    CreateTodo
  },
  ...
            </pre>
    </li>
    <li>Replace this "EDIT ME!" section with
      <code>&lt;CreateTodo&gt;&lt;/CreateTodo&gt;&lt;AllTodos&gt;&lt;/AllTodos&gt;</code>.</li>
  </ol>
</div> --}}